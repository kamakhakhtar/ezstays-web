$(window).on("load",(function(){function a(a,e){$(a).on("submit",(function(t){t.preventDefault();let l=!0;const o=this.querySelector('input[name="name"]'),s=this.querySelector('input[name="phone"]');if(""===o.value.trim()?(o.classList.add("invalid"),l=!1):(o.value=o.value.replace(/^(.)|\s+(.)/g,(a=>a.toUpperCase())),o.classList.remove("invalid")),""===s.value.trim()||10!=s.value.length?(s.classList.add("invalid"),l=!1):s.classList.remove("invalid"),l){var r=$(this);r.prop("disabled",!0).html('<div class="progress-bar"></div>'),$(".progress-bar").css("animation","loading 2s linear forwards");var n=`${".call-back-form"===a?"Call Back":"Schedule a Visit"}\nName: ${o.value}\nPhone: ${s.value}`,i=`/send-email/${encodeURIComponent(n)}`;setTimeout((function(){$.ajax({url:i,type:"GET",success:function(){$(".modal").modal("hide"),r.html(".call-back-form"===a?"Request a callback":"Schedule a visit").prop("disabled",!1),$("#thankyou .thankyou-title").text(e),$("#thankyou").modal("show")},error:function(a,e,t){r.html("Failed - Try Again").prop("disabled",!1),alert(`Error: ${t}`)}})}),500)}}))}a(".call-back-form","Callback request sent successfully!"),a(".schedule-form","Visit Scheduled Successfully!"),$("img.lazy-load").each((function(){var a=$(this);a.hide().attr("src",a.attr("data-src")).removeAttr("data-src").on("load",(function(){a.fadeIn()}))})),$.ajax({url:"/ajax/seofooter-urls/",type:"GET",dataType:"json",success:function(a){var e=$("#seo-footer").empty();a.footer_urls.forEach((function(a){e.append(`<a href="/${a.slug}">${a.title}<span> | </span></a>`)}))},error:function(){console.log("Error loading SEO footer URLs")}}),loadCities()}));